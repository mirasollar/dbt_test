---
version: 2
sources:
  - name: in.c-10-vyhodnoceni-mailingu
    freshness:
      warn_after:
        count: 1
        period: day
    database: '{{ env_var("DBT_KBC_DEV_2516_DATABASE") }}'
    schema: out.c-10-vyhodnoceni-mailingu
    loaded_at_field: '"_timestamp"'
    tables:
      - name: ciselnik_cetnosti_rozesilek
        quoting:
          database: true
          schema: true
          identifier: true
        columns:
          - name: '"ID_send_message"'
            tests:
              - unique
              - not_null
      - name: ciselnik_cetnosti_rozesilek_II
        quoting:
          database: true
          schema: true
          identifier: true
        columns: []
      - name: emailing_analyza_zakaznicke_cesty
        quoting:
          database: true
          schema: true
          identifier: true
        columns:
          - name: '"ID_send_message"'
            tests:
              - unique
              - not_null
      - name: L2_MAILING_FORM_FEEDBACK_CLEAN
        quoting:
          database: true
          schema: true
          identifier: true
        columns:
          - name: '"FORM_CLIENT_ID"'
            tests:
              - unique
              - not_null
          - name: '"FORM_SERVICE"'
            tests:
              - unique
              - not_null
          - name: '"FORM_ID_SCENARIO"'
            tests:
              - unique
              - not_null
          - name: '"FORM_CALL_TOPIC"'
            tests:
              - unique
              - not_null
          - name: '"FORM_PHONE"'
            tests:
              - unique
              - not_null
          - name: '"FORM_REQUESTED_DAY"'
            tests:
              - unique
              - not_null
          - name: '"FORM_REQUESTED_TIME"'
            tests:
              - unique
              - not_null
          - name: '"FORM_SAVE_TIMESTAMP"'
            tests:
              - unique
              - not_null
          - name: '"FORM_DUMMY_FACT"'
            tests:
              - unique
              - not_null
      - name: mailpool_final
        quoting:
          database: true
          schema: true
          identifier: true
        columns:
          - name: '"ID_send_message"'
            tests:
              - unique
              - not_null
      - name: mailpool_zpetna_vazba
        quoting:
          database: true
          schema: true
          identifier: true
        columns:
          - name: '"ID_send_message"'
            tests:
              - unique
              - not_null
          - name: '"datum_zv"'
            tests:
              - unique
              - not_null
      - name: reakce_na_emaily
        quoting:
          database: true
          schema: true
          identifier: true
        columns:
          - name: '"ID_send_message"'
            tests:
              - unique
              - not_null
          - name: '"datum_a_cas_reakce"'
            tests:
              - unique
              - not_null
          - name: '"poradi_reakce"'
            tests:
              - unique
              - not_null
      - name: vynosy_mailingu_final
        quoting:
          database: true
          schema: true
          identifier: true
        columns:
          - name: '"ID_send_message"'
            tests:
              - unique
              - not_null
          - name: '"typ_pece"'
            tests:
              - unique
              - not_null
          - name: '"datum_vynosu"'
            tests:
              - unique
              - not_null
      - name: vynosy_mailingu_final_20250217_zaloha
        quoting:
          database: true
          schema: true
          identifier: true
        columns:
          - name: '"ID_send_message"'
            tests:
              - unique
              - not_null
          - name: '"typ_pece"'
            tests:
              - unique
              - not_null
          - name: '"datum_vynosu"'
            tests:
              - unique
              - not_null
